
* 应用层是计算机网络体系结构的最顶层，是设计和建立计算机网络的最终目的

### 客户/服务器方式（C/S方式）和对等方式（P2P方式）

#### 客户/服务器（C/S方式）
* 客户和服务器是指通信中所涉及的两个应用进程
* 客户/服务器方式所描述的是进程之间服务和被服务的关系
* 客户是服务请求方，服务器是服务提供方
* 服务器总是处于运行状态，并等待客户的服务请求。服务器具有固定的端口号（HTTP服务器的默认端口号是80）
* 基于C/S方式的应用服务器通常是**服务集中型**的，即应用服务集中在，网络中比客户计算机少得多的服务器计算机上
   * 由于一台服务器计算机要为多个客户机提供服务，在C/S应用中，常会出现服务器计算机跟不上众多客户机请求的情况
   * 在C/S应用中，常用计算机集群（或服务器场）构建一个强大的**虚拟服务器**

#### 对等（Peer-to-Peer，P2P）方式

* 在P2P方式中，没有固定的服务请求者和服务提供者，分布在网络边缘各端系统中的应用进程是对等的，被称为对等方。对等方相互之间直接通信，每个对等方既是服务的请求者，又是服务的提供者
* 基于P2P的应用是**服务分散型**的，因为服务不是集中在少数几个服务器计算机中，而是分散在大量对等计算机中，这些计算机并不为服务提供商所有，而是为个人控制的桌面计算机和笔记本电脑
* P2P方式的最突出特性之一就是它的**可扩展性**，因为系统每增加一个对等方，不仅增加的是服务的请求者，同时也增加了服务的提供者，**系统性能不会因规模的增大而降低**
* P2P方式具有成本上的优势，因为不需要旁大的服务器设施和服务器带宽



### 动态主机配置协议DHCP

动态主机配置协议（Dynamic Host Configuration Protocol，简称 DHCP）是一种网络协议，用于自动分配 IP 地址、子网掩码、默认网关等网络参数，以及 DNS 服务器等信息给网络中的设备。DHCP 服务器可以自动为新加入网络的设备分配可用的 IP 地址，从而避免了手动配置 IP 地址的繁琐过程。DHCP 还可以对已有的设备进行 IP 地址的更新、续约和释放等操作，从而实现 IP 地址的动态管理。DHCP 协议通常运行在局域网中的 DHCP 服务器上，而客户端设备则通过 DHCP 协议来获取网络配置信息。

### 域名系统DNS（Domain　Name　System）

* 域名系统DNS是因特网使用的命名系统，用来把便于人们记忆的具有特定含义的主机名，转换为便于机器处理的IP地址
* 因特网采用**层次树状结构的域名系统**
* 顶级域名TLD（Top Level Domain）分为以下三类：
   * 国家顶级域名nTLD
   * 通用顶级域名给TLD
   * 反向域arpa
* 域名和IP地址的映射关系必须保存在域名服务器中，供所有其他应用查询。但是不可能将所有信息都存储在一台域名服务器中，DNS使用分布在各地的域名服务器来实现域名到IP地址的转换
* 域名服务器可以划分为以下四种类型：
   * 根域名服务器
   * 顶级域名服务器
   * 权限域名服务器
   * 本地域名服务器
* 域名解析的过程有两种查询方式：
   * 递归查询
   * 迭代查询
* 为了提高DNS的查询效率，并减轻根域名服务器的负荷和减少因特网上的DNS查询报文数量，在域名服务器和主机中广泛地使用了**高速缓存**
* DNS报文使用运输层地UDP协议进行封装，**运输层端口号是53**

### 文件传输协议FTP

* 将某台计算机中地文件通过网络传送到可能相距很远地另一台计算机中，是一项基本的网络应用，即文件传送
* 文件传输协议FTP（File Transfer Protocol）是因特网上使用的最广泛地文件传输协议
   * FTP**提供交互式地访问**，允许客户**指明文件地类型与格式**，并允许**文件具有存取权限**
   * FTP屏蔽了各计算机系统地细节，因而适合于在异构网络中任意计算机之间传输文件
* FTP客户和服务器之间要建立以下两个并行的TCP连接：
   * **控制连接**，在整个会话期间一直保持打开，用于传送FTP相关控制命令
   * **数据连接**，用于文件传输，在每次文件传输时才建立，传输结束就关闭
* 默认情况下，FTP使用TCP21 端口进行**控制连接**，TCP20 端口进行**数据连接**。是否使用TCP20 端口建立数据连接与传输模式有关，**主动方式**使用TCP20端口，**被动方式**由服务器和客户端自行协商决定


### 电子邮件

* 电子邮件系统采用**客户/服务器方式**，三个主要组成构件：用户代理、邮件服务器、所需要的协议
   * 用户代理是用户与电子邮件系统的接口，又称为电子邮件客户端软件
   * 邮件服务器是电子邮件系统的基础设施。因特网上所有的ISP都有邮件服务器，其功能是**发送和接收邮件**，同时还要负责维护用户的邮箱
   * 协议包括**邮件发送协议**（SMTP）和**邮件读取协议**（POP3）
* 最常用的邮件发送协议是**简单邮件传送协议SMTP**
   * 基于TCP连接，端口号为25
   * 只能传送ASCII码文本
   * 用于用户代理向邮件服务器发送邮件以及邮件服务器之间的邮件发送
* 为解决SMTP传送非ASCII码文本的问题，提出了**多用途因特网邮件扩展MIME**
* 常用的**邮件读取协议**有以下两个：
   * 邮局协议POP3：非常简单、功能有限的邮件读取协议。用户只能以下载并删除方式或下载并保留方式从邮件服务器下载邮件到用户方计算机。**不允许用户在邮件服务器上管理自己的邮件**、
   * 因特网邮件访问协议IMAP：功能比POP3强大的邮件读取协议。**用户在自己的计算机上就可以操控邮件服务器中的邮件**，IMAP是一个联机协议
   * POP3和IMAP4都采用**基于TCP连接的客户/服务器方式**，POP3使用端口110，IMAP使用端口143
* 基于万维网的电子邮件
   * 通过浏览器登录
   * 这种工作模式在用户浏览器与邮件服务器网站之间使用HTTP协议，而邮件服务器之间使用SMTP协议



### 万维网WWW

* 万维网WWW（World Wide Web）是一个大规模的、联机式的信息储藏所，是运行在因特网上的一个分布式应用
* 浏览器最重要的部分是**渲染引擎**，也就是**浏览器内核**，负责对网页内容进行解析和显示
* 万维网使用**统一资源定位符URL**来指明因特网上任何种类 资源的位置
* 万维网文档
   * **超文本标记语言HTML**：使用多种“标签”来描述网页的结构和内容（网页扩展名为.html）
   * **层叠样式表CSS**：美化网页样式（文件扩展名为.css）
   * **脚本语言JavaScript**：控制网页的行为（文件扩展名为.js）
* **超文本传输协议HTTP**（Hyper Text Transfer Protocol）定义了浏览器（即万维网客户进程）怎样向万维网服务器请求万维网文档，以及万维网服务器怎样把万维网文档传送给浏览器
   * HTTP/1.0采用**非持续连接**方式，每次浏览器要请求一个文件都要与服务器建立TCP连接（80端口），当收到响应后就立即关闭连接
   * HTTP/1.1采用**持续连接**方式，万维网服务器在发送响应后仍然保持这条连接，使同一个客户（浏览器）和该服务器可以继续在这条连接上传送后续的HTTP请求报文和响应报文。为了进一步提高效率，还可以采用**流水线**方式，即浏览器在收到HTTP的响应保温之前就能够连续发送多个请求和报文
* HTTP有两类报文，请求报文和响应报文
* Cookie提供了一种机制使得万维网服务器能够“记住”用户，无需用户主动提供用户标识信息，也就是说，**Cookie**是一种对于无状态的HTTP进行状态化的技术
* 在万维网中，可以使用缓存机制来提高万维网的效率，万维网缓存又称为Web缓存，可位于客户机，也可位于中间系统上，位于中间系统上的Web缓存又称为**代理服务器**











